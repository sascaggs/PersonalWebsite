{
  "hash": "3dad8d5e5f7745e88fe185a3c9d16625",
  "result": {
    "markdown": "---\ntitle: \"Let's make some food webs\"\nauthor: \"Shane A. Scaggs\"\ndate: \"2023-2-8\"\ncategories: \n  - ecology\n  - structure\n  - simulation\n  - food webs\n---\n\n\n\n\nFood webs are representations of the feeding relationships between plants, animals, and other organisms in an ecosystem. Ecologists will often use network graphs and network analysis to describe and analyze these feeding relationships. A major goal of theoretical ecology is coming up with models that can be used describe empirical food webs. A good place to start this process is by simulating feeding relationships. Network science and computation can help us do this. \n\nIn this post, I develop a simulation of a food web based on body size and dietary strategy. My goal is to understand some of the structural implications that arise from these two drivers. This is a work in progress. \n\n\n::: {.cell}\n\n:::\n\n\n\n# Species attributes \n\nThe first thing I'm going to do is generate some species attributes. These attributes includes things we might measure about species (e.g., body size) and categories we might place different species in (e.g., trophic level). \n\nFirst, let's imagine have 25 species from four different trophic levels: carnivore, omnivore, herbivore, and autotroph.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(777)\nN = 25\ntrophs = c('carn','omni','herb','auto')\n```\n:::\n\n\nWe can sample with replacement from a vector of these trophic levels to assign each species to one of them. If we use the default `prob` in the sample function, each level is sampled with equal probability. This is something we might want to change to reflect empirical food webs. For example, there tend to be a lot of plants and carnivores, and relatively fewer omnivores and herbivores.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nNext, we need to assign each species a body size. This is somewhat awkward to do for plants (autotrophs), so for simplicity, we'll assume that plant body size refereces to the total edible biomass of that particular plant, on average. \n\nSince body sizes are always positive, continuous values, I'll use a gamma distribution. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nbody_size = rgamma(N, shape = 2)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nSo we have many species that are pretty small and some a bit larger. The units here are pretty arbitrary but maybe we think of them as hundreds of pounds. \n\nNow I can store all of these in a data frame. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nd = data.frame(\n    species = 1:N, \n    troph = sample( trophs, size = N, replace = TRUE, prob =  c(0.3,0.1,0.1,0.5) ), \n    body_size = rgamma(N, shape = 2)\n)\nhead(d)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  species troph body_size\n1       1  auto 4.5290711\n2       2  auto 0.5468126\n3       3  carn 0.9878395\n4       4  auto 1.5093469\n5       5  auto 3.0427018\n6       6  carn 1.4672133\n```\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}